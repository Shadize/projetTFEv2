<app-card>
  @if (!detail$()) {
    <app-detail-not-found [message]="'feature.shelve-detail.not-found'"></app-detail-not-found>
  } @else {
    <app-card-header [title]="detail$().str"></app-card-header>
    liste de produits
    <app-data-table [config]="productDataTableConfig()" (actionClicked)="consume($event)"></app-data-table>

    <div class="band"></div>
    @if (isAddingConsumption$()) {
      <app-card-header [title]="'feature.consumption-form'"></app-card-header>
      <app-form-builder [config]="consumptionFormConfig$()"
                        (cancel)="cancel()"
                        (formSubmitted)="onFormSubmitted($event)"></app-form-builder>
    } @else {
      <app-card-header [title]="'feature.consumption-list'"></app-card-header>
      <app-data-table [config]="consumptionDataTableConfig$()" (actionClicked)="onActionClicked($event)"></app-data-table>
    }
  }
</app-card>
